import{z as O,r as a,j as C,A as ee,D as fe,E as me,G as ge,H as Q,I as we,i as W,c as F,J as te,B as he,l as L,K as xe,k as be}from"./index-kH_MM8uZ.js";import{a as ve,u as ye}from"./hook-BGu0KHPR.js";import{u as Ce}from"./useForceUpdate-BfUUU7hG.js";import{u as Ee,a as De,m as ke,b as Pe}from"./mergeOptionsWithPopperConfig-Dcco-Ch-.js";import{$ as $e}from"./SSRProvider-CCZsMxV0.js";import{S as _,N as je,m as X,A as Ne,c as Ie}from"./NavbarContext-D8qaAC9u.js";import{c as B}from"./InputGroupContext-CQXtZeHT.js";function Re(t,o,e,n=!1){const s=O(e);a.useEffect(()=>{const r=typeof t=="function"?t():t;return r.addEventListener(o,s,n),()=>r.removeEventListener(o,s,n)},[t])}const K=a.createContext(null),Se=["children"];function Me(t,o){if(t==null)return{};var e={},n=Object.keys(t),s,r;for(r=0;r<n.length;r++)s=n[r],!(o.indexOf(s)>=0)&&(e[s]=t[s]);return e}const Te=()=>{};function oe(t={}){const o=a.useContext(K),[e,n]=Ee(),s=a.useRef(!1),{flip:r,offset:u,rootCloseEvent:i,fixed:p=!1,placement:l,popperConfig:d={},enableEventListeners:c=!0,usePopper:h=!!o}=t,g=(o==null?void 0:o.show)==null?!!t.show:o.show;g&&!s.current&&(s.current=!0);const E=k=>{o==null||o.toggle(!1,k)},{placement:$,setMenu:y,menuElement:N,toggleElement:D}=o||{},w=De(D,N,ke({placement:l||$||"bottom-start",enabled:h,enableEvents:c??g,offset:u,flip:r,fixed:p,arrowElement:e,popperConfig:d})),I=Object.assign({ref:y||Te,"aria-labelledby":D==null?void 0:D.id},w.attributes.popper,{style:w.styles.popper}),x={show:g,placement:$,hasShown:s.current,toggle:o==null?void 0:o.toggle,popper:h?w:null,arrowProps:h?Object.assign({ref:n},w.attributes.arrow,{style:w.styles.arrow}):{}};return Pe(N,E,{clickTrigger:i,disabled:!g}),[I,x]}const Oe={usePopper:!0};function G(t){let{children:o}=t,e=Me(t,Se);const[n,s]=oe(e);return C.jsx(C.Fragment,{children:o(n,s)})}G.displayName="DropdownMenu";G.defaultProps=Oe;const ne=t=>{var o;return((o=t.getAttribute("role"))==null?void 0:o.toLowerCase())==="menu"},Y=()=>{};function se(){const t=$e(),{show:o=!1,toggle:e=Y,setToggle:n,menuElement:s}=a.useContext(K)||{},r=a.useCallback(i=>{e(!o,i)},[o,e]),u={id:t,ref:n||Y,onClick:r,"aria-expanded":!!o};return s&&ne(s)&&(u["aria-haspopup"]=!0),[u,{show:o,toggle:e}]}function re({children:t}){const[o,e]=se();return C.jsx(C.Fragment,{children:t(o,e)})}re.displayName="DropdownToggle";const Ae=["eventKey","disabled","onClick","active","as"];function We(t,o){if(t==null)return{};var e={},n=Object.keys(t),s,r;for(r=0;r<n.length;r++)s=n[r],!(o.indexOf(s)>=0)&&(e[s]=t[s]);return e}function ae({key:t,href:o,active:e,disabled:n,onClick:s}){const r=a.useContext(_),u=a.useContext(je),{activeKey:i}=u||{},p=X(t,o),l=e==null&&t!=null?X(i)===p:e;return[{onClick:O(c=>{n||(s==null||s(c),r&&!c.isPropagationStopped()&&r(p,c))}),"aria-disabled":n||void 0,"aria-selected":l,[ee("dropdown-item")]:""},{isActive:l}]}const ce=a.forwardRef((t,o)=>{let{eventKey:e,disabled:n,onClick:s,active:r,as:u=fe}=t,i=We(t,Ae);const[p]=ae({key:e,href:i.href,disabled:n,onClick:s,active:r});return C.jsx(u,Object.assign({},i,{ref:o},p))});ce.displayName="DropdownItem";function Z(){const t=Ce(),o=a.useRef(null),e=a.useCallback(n=>{o.current=n,t()},[t]);return[o,e]}function A({defaultShow:t,show:o,onSelect:e,onToggle:n,itemSelector:s=`* [${ee("dropdown-item")}]`,focusFirstItemOnShow:r,placement:u="bottom-start",children:i}){const p=me(),[l,d]=ve(o,t,n),[c,h]=Z(),g=c.current,[E,$]=Z(),y=E.current,N=ge(l),D=a.useRef(null),w=a.useRef(!1),I=a.useContext(_),x=a.useCallback((f,m,b=m==null?void 0:m.type)=>{d(f,{originalEvent:m,source:b})},[d]),k=O((f,m)=>{e==null||e(f,m),x(!1,m,"select"),m.isPropagationStopped()||I==null||I(f,m)}),v=a.useMemo(()=>({toggle:x,placement:u,show:l,menuElement:g,toggleElement:y,setMenu:h,setToggle:$}),[x,u,l,g,y,h,$]);g&&N&&!l&&(w.current=g.contains(g.ownerDocument.activeElement));const R=O(()=>{y&&y.focus&&y.focus()}),M=O(()=>{const f=D.current;let m=r;if(m==null&&(m=c.current&&ne(c.current)?"keyboard":!1),m===!1||m==="keyboard"&&!/^key.+$/.test(f))return;const b=Q(c.current,s)[0];b&&b.focus&&b.focus()});a.useEffect(()=>{l?M():w.current&&(w.current=!1,R())},[l,w,R,M]),a.useEffect(()=>{D.current=null});const T=(f,m)=>{if(!c.current)return null;const b=Q(c.current,s);let j=b.indexOf(f)+m;return j=Math.max(0,Math.min(j,b.length)),b[j]};return Re(a.useCallback(()=>p.document,[p]),"keydown",f=>{var m,b;const{key:j}=f,S=f.target,J=(m=c.current)==null?void 0:m.contains(S),pe=(b=E.current)==null?void 0:b.contains(S);if(/input|textarea/i.test(S.tagName)&&(j===" "||j!=="Escape"&&J||j==="Escape"&&S.type==="search")||!J&&!pe||j==="Tab"&&(!c.current||!l))return;D.current=f.type;const U={originalEvent:f,source:f.type};switch(j){case"ArrowUp":{const P=T(S,-1);P&&P.focus&&P.focus(),f.preventDefault();return}case"ArrowDown":if(f.preventDefault(),!l)d(!0,U);else{const P=T(S,1);P&&P.focus&&P.focus()}return;case"Tab":we(S.ownerDocument,"keyup",P=>{var V;(P.key==="Tab"&&!P.target||!((V=c.current)!=null&&V.contains(P.target)))&&d(!1,U)},{once:!0});break;case"Escape":j==="Escape"&&(f.preventDefault(),f.stopPropagation()),d(!1,U);break}}),C.jsx(_.Provider,{value:k,children:C.jsx(K.Provider,{value:v,children:i})})}A.displayName="Dropdown";A.Menu=G;A.Toggle=re;A.Item=ce;const H=a.createContext({});H.displayName="DropdownContext";const le=a.forwardRef(({bsPrefix:t,className:o,eventKey:e,disabled:n=!1,onClick:s,active:r,as:u=Ne,...i},p)=>{const l=W(t,"dropdown-item"),[d,c]=ae({key:e,href:i.href,disabled:n,onClick:s,active:r});return C.jsx(u,{...i,...d,ref:p,className:F(o,l,c.isActive&&"active",n&&"disabled")})});le.displayName="DropdownItem";var Fe=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Ke=typeof document<"u";const Ue=Ke||Fe?a.useLayoutEffect:a.useEffect;function ue(t,o){return t}const _e={flip:!0};function ie(t,o,e){const n=e?"top-end":"top-start",s=e?"top-start":"top-end",r=e?"bottom-end":"bottom-start",u=e?"bottom-start":"bottom-end",i=e?"right-start":"left-start",p=e?"right-end":"left-end",l=e?"left-start":"right-start",d=e?"left-end":"right-end";let c=t?u:r;return o==="up"?c=t?s:n:o==="end"?c=t?d:l:o==="start"&&(c=t?p:i),c}const q=a.forwardRef(({bsPrefix:t,className:o,align:e,rootCloseEvent:n,flip:s,show:r,renderOnMount:u,as:i="div",popperConfig:p,variant:l,...d},c)=>{let h=!1;const g=a.useContext(Ie),E=W(t,"dropdown-menu"),{align:$,drop:y,isRTL:N}=a.useContext(H);e=e||$;const D=a.useContext(B),w=[];if(e)if(typeof e=="object"){const f=Object.keys(e);if(f.length){const m=f[0],b=e[m];h=b==="start",w.push(`${E}-${m}-${b}`)}}else e==="end"&&(h=!0);const I=ie(h,y,N),[x,{hasShown:k,popper:v,show:R,toggle:M}]=oe({flip:s,rootCloseEvent:n,show:r,usePopper:!g&&w.length===0,offset:[0,2],popperConfig:p,placement:I});if(x.ref=te(ue(c),x.ref),Ue(()=>{R&&(v==null||v.update())},[R]),!k&&!u&&!D)return null;typeof i!="string"&&(x.show=R,x.close=()=>M==null?void 0:M(!1),x.align=e);let T=d.style;return v!=null&&v.placement&&(T={...d.style,...x.style},d["x-placement"]=v.placement),C.jsx(i,{...d,...x,style:T,...(w.length||g)&&{"data-bs-popper":"static"},className:F(o,E,R&&"show",h&&`${E}-end`,l&&`${E}-${l}`,...w)})});q.displayName="DropdownMenu";q.defaultProps=_e;const de=a.forwardRef(({bsPrefix:t,split:o,className:e,childBsPrefix:n,as:s=he,...r},u)=>{const i=W(t,"dropdown-toggle"),p=a.useContext(K),l=a.useContext(B);n!==void 0&&(r.bsPrefix=n);const[d]=se();return d.ref=te(d.ref,ue(u)),C.jsx(s,{className:F(e,i,o&&`${i}-split`,!!l&&(p==null?void 0:p.show)&&"show"),...d,...r})});de.displayName="DropdownToggle";const Le=L("dropdown-header",{defaultProps:{role:"heading"}}),Be=L("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),Ge=L("dropdown-item-text",{Component:"span"}),He={navbar:!1,align:"start",autoClose:!0},z=a.forwardRef((t,o)=>{const{bsPrefix:e,drop:n,show:s,className:r,align:u,onSelect:i,onToggle:p,focusFirstItemOnShow:l,as:d="div",navbar:c,autoClose:h,...g}=ye(t,{show:"onToggle"}),E=a.useContext(B),$=W(e,"dropdown"),y=xe(),N=k=>h===!1?k==="click":h==="inside"?k!=="rootClose":h==="outside"?k!=="select":!0,D=be((k,v)=>{v.originalEvent.currentTarget===document&&(v.source!=="keydown"||v.originalEvent.key==="Escape")&&(v.source="rootClose"),N(v.source)&&(p==null||p(k,v))}),I=ie(u==="end",n,y),x=a.useMemo(()=>({align:u,drop:n,isRTL:y}),[u,n,y]);return C.jsx(H.Provider,{value:x,children:C.jsx(A,{placement:I,show:s,onSelect:i,onToggle:D,focusFirstItemOnShow:l,itemSelector:`.${$}-item:not(.disabled):not(:disabled)`,children:E?g.children:C.jsx(d,{...g,ref:o,className:F(r,s&&"show",(!n||n==="down")&&$,n==="up"&&"dropup",n==="end"&&"dropend",n==="start"&&"dropstart")})})})});z.displayName="Dropdown";z.defaultProps=He;const et=Object.assign(z,{Toggle:de,Menu:q,Item:le,ItemText:Ge,Divider:Be,Header:Le});export{et as D};
