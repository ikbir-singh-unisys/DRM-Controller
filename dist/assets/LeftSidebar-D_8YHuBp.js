import{a as w,r as o,j as e,R as f,c as u,L as g}from"./index-DQATgoiV.js";import{F as b}from"./index-DA_P0STp.js";import{f as L,a as v,c as F}from"./menu-CR-mapQm.js";import{S as M}from"./Scrollbar-C7s7HrR5.js";import{C as S}from"./Collapse-DR50gOBy.js";import{d as E}from"./avatar-1-BMXE0ycC.js";import{D as h}from"./Dropdown-BsjNQJ73.js";import"./index-mtISXmqM.js";import"./hook-CsbMUZaY.js";import"./extends-Ddkkjl9d.js";import"./useForceUpdate-iCSXlPMo.js";import"./mergeOptionsWithPopperConfig-CmF6nV9m.js";import"./warning-ub14HhO6.js";import"./SSRProvider-BcfnMLRt.js";import"./NavbarContext-Dd6ICEM_.js";import"./InputGroupContext-D0VcQIVB.js";const y=({item:s,linkClassName:a,subMenuClassNames:c,activeMenuItems:r,toggleMenu:l})=>{const[i,x]=o.useState(r.includes(s.key));o.useEffect(()=>{x(r.includes(s.key))},[r,s]);const t=n=>{n.preventDefault();const d=!i;return x(d),l&&l(s,d),!1};return e.jsxs("li",{className:u({"menuitem-active":i}),children:[e.jsxs(g,{to:"#",onClick:t,"data-menu-key":s.key,"aria-expanded":i,className:u("side-sub-nav-link",a,{"menuitem-active":r.includes(s.key)?"active":""}),children:[s.icon&&e.jsx(b,{icon:s.icon}),s.badge?e.jsx("span",{className:`badge bg-${s.badge.variant} float-end`,children:s.badge.text}):e.jsx("span",{className:"menu-arrow"}),e.jsxs("span",{children:[" ",s.label," "]})]}),e.jsx(S,{in:i,children:e.jsx("div",{children:e.jsx("ul",{className:u(c),children:(s.children||[]).map((n,d)=>e.jsx(f.Fragment,{children:n.children?e.jsx(e.Fragment,{children:e.jsx(y,{item:n,linkClassName:r.includes(n.key)?"active":"",activeMenuItems:r,subMenuClassNames:"side-nav-third-level",toggleMenu:l})}):e.jsx(e.Fragment,{children:e.jsx(C,{item:n,className:r.includes(n.key)?"menuitem-active":"",linkClassName:r.includes(n.key)?"active":""})})},d))})})})]})},C=({item:s,className:a,linkClassName:c})=>e.jsx("li",{className:u("side-nav-item",a),children:e.jsx(T,{item:s,className:c})}),T=({item:s,className:a})=>e.jsxs(g,{to:s.url,target:s.target,className:u("side-nav-link-ref",a),"data-menu-key":s.key,children:[s.icon&&e.jsx(b,{icon:s.icon}),s.badge&&e.jsx("span",{className:`badge bg-${s.badge.variant} float-end`,children:s.badge.text}),e.jsxs("span",{children:[" ",s.label," "]})]}),A=({menuItems:s})=>{let a=w();const c=o.useRef(null),[r,l]=o.useState([]),i=(t,n)=>{n&&l([t.key,...v(s,t)])},x=o.useCallback(()=>{var d,k,N;const t=document.getElementById("side-menu");let n=null;if(t){let j=t.getElementsByClassName("side-nav-link-ref");for(let m=0;m<j.length;++m)if(((d=a==null?void 0:a.pathname)==null?void 0:d.replaceAll("",""))===((N=(k=j[m])==null?void 0:k.pathname)==null?void 0:N.replaceAll("",""))){n=j[m];break}if(n){const m=n.getAttribute("data-menu-key"),p=L(s,m);p&&l([p.key,...v(s,p)])}}},[a,s]);return o.useEffect(()=>{x()},[x]),e.jsx(e.Fragment,{children:e.jsx("ul",{className:"side-menu",ref:c,id:"side-menu",children:(s||[]).map((t,n)=>e.jsx(f.Fragment,{children:t.isTitle?e.jsx("li",{className:u("menu-title",{"mt-2":n!==0}),children:t.label}):e.jsx(e.Fragment,{children:t.children?e.jsx(y,{item:t,toggleMenu:i,subMenuClassNames:"nav-second-level",activeMenuItems:r}):e.jsx(C,{item:t,className:r.includes(t.key)?"menuitem-active":""})})},n))})})},R=()=>{const s=[{label:"My Account",icon:"user",redirectTo:"/pages/profile"},{label:"Settings",icon:"settings",redirectTo:"/"},{label:"Support",icon:"help-circle",redirectTo:"/"},{label:"Lock Screen",icon:"lock",redirectTo:"/auth/lock-screen"},{label:"Logout",icon:"log-out",redirectTo:"/auth/logout"}],[a,c]=o.useState(!1),r=()=>{c(!a)};return e.jsxs("div",{className:"user-box text-center",children:[e.jsx("img",{src:E,alt:"",title:"Mat Helme",className:"rounded-circle avatar-md"}),e.jsxs(h,{show:a,onToggle:r,children:[e.jsx(h.Toggle,{id:"dropdown-notification",as:"a",onClick:r,className:"cursor-pointer text-dark h5 mt-2 mb-1 d-block",children:"Nik Patel"}),e.jsx(h.Menu,{className:"user-pro-dropdown m-0",children:(s||[]).map((l,i)=>e.jsxs(f.Fragment,{children:[i===s.length-1&&e.jsx("div",{className:"dropdown-divider"}),e.jsxs(g,{to:l.redirectTo,className:"dropdown-item notify-item",children:[e.jsx(b,{icon:l.icon,className:"icon-dual icon-xs me-1"}),e.jsx("span",{children:l.label})]})]},i+"-profile-menu"))})]}),e.jsx("p",{className:"text-muted",children:"Admin Head"})]})},B=()=>e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsx("div",{id:"sidebar-menu",children:e.jsx(A,{menuItems:F()})}),e.jsx("div",{className:"clearfix"})]}),D=()=>{const s=o.useRef(null),a=c=>{s&&s.current&&s.current.contains(c.target)||document.body&&document.getElementsByTagName("html")[0].classList.remove("sidebar-enable")};return o.useEffect(()=>(document.addEventListener("mousedown",a,!1),()=>{document.removeEventListener("mousedown",a,!1)}),[]),e.jsx(f.Fragment,{children:e.jsx("div",{className:"left-side-menu",ref:s,children:e.jsx(M,{style:{maxHeight:"100%"},timeout:500,scrollbarMaxSize:320,children:e.jsx(B,{})})})})};D.defaultProps={isCondensed:!1};export{D as default};
