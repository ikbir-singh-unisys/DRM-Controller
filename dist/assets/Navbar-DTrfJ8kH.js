import{a as w,r as d,j as e,R as v,c as i,b as C,L as N}from"./index-DQATgoiV.js";import{f as M,a as k,g as F}from"./menu-CR-mapQm.js";import{F as R}from"./index-DA_P0STp.js";import{C as A}from"./Collapse-DR50gOBy.js";const y=({item:n,tag:s,linkClassName:u,className:o,subMenuClassNames:h,activeMenuItems:t,toggleMenu:m})=>{const x=s,{width:a}=C(),[l,p]=d.useState(t.includes(n.key)),j=a<=768&&l;d.useEffect(()=>{p(t.includes(n.key))},[t,n]);const g=r=>{r.preventDefault();const c=!l;return p(c),m&&m(n,c),!1};return e.jsxs(x,{className:i("dropdown",o,t.includes(n.key)?"active":""),children:[e.jsxs(N,{to:"/#",onClick:g,"data-menu-key":n.key,className:i("dropdown-toggle","arrow-none",u,{active:t.includes(n.key)}),id:n.key,role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":l,children:[n.icon&&e.jsx(R,{icon:n.icon,className:"hori-icon me-1"}),e.jsxs("span",{children:[" ",n.label," "]}),e.jsx("div",{className:"arrow-down"})]}),n.children&&e.jsx("div",{className:i(h,{show:j}),"aria-labelledby":n.key,children:(n.children||[]).map((r,c)=>e.jsx(v.Fragment,{children:r.children?e.jsx(e.Fragment,{children:e.jsx(y,{item:r,tag:"div",linkClassName:i("dropdown-item",t.includes(r.key)?"active":""),activeMenuItems:t,className:"",subMenuClassNames:"dropdown-menu",toggleMenu:m})}):e.jsx(e.Fragment,{children:e.jsx(b,{item:r,className:i("dropdown-item",{active:t.includes(r.key)})})})},c))})]})},E=({item:n,className:s,linkClassName:u})=>e.jsx("li",{className:i("nav-item",s),children:e.jsx(b,{item:n,className:u})}),b=({item:n,className:s})=>e.jsx(N,{to:n.url,target:n.target,className:i(s),"data-menu-key":n.key,children:e.jsxs("span",{children:[" ",n.label," "]})}),L=({menuItems:n})=>{let s=w();const u=d.useRef(null),[o]=d.useState(n),[h,t]=d.useState([]),m=(a,l)=>{l&&t([a.key,...k(o,a)])},x=d.useCallback(()=>{var p,j,g;const a=document.getElementById("main-side-menu");let l=null;if(a){let r=a.getElementsByTagName("a");for(let c=0;c<r.length;++c)if(((p=s==null?void 0:s.pathname)==null?void 0:p.replaceAll("",""))===((g=(j=r[c])==null?void 0:j.pathname)==null?void 0:g.replaceAll("",""))){l=r[c];break}if(l){const c=l.getAttribute("data-menu-key"),f=M(o,c);f&&t([f.key,...k(o,f)])}}},[s.pathname,o]);return d.useEffect(()=>{o&&o.length>0&&x()},[x,o]),e.jsx(e.Fragment,{children:e.jsx("ul",{className:"navbar-nav",ref:u,id:"main-side-menu",children:(o||[]).map((a,l)=>e.jsx(v.Fragment,{children:a.children?e.jsx(y,{item:a,tag:"li",className:"nav-item",subMenuClassNames:"dropdown-menu",activeMenuItems:h,linkClassName:"nav-link",toggleMenu:m}):e.jsx(E,{item:a,linkClassName:i("nav-link","dropdown-toggle",{active:h.includes(a.key)})})},l))})})},U=({isMenuOpened:n})=>e.jsx("div",{className:"topnav",children:e.jsx("div",{className:"container-fluid",children:e.jsx("nav",{className:i("navbar","navbar-expand-lg","topnav-menu","navbar-"+"light"),children:e.jsx(A,{in:n,className:"navbar-collapse",children:e.jsx("div",{id:"topnav-menu-content",children:e.jsx(L,{menuItems:F()})})})})})});export{U as default};
