import{z as G,r as n,S as X,U as Y,ac as M,j as R,ad as Z,l as H,i as $,K,c as D,ae as ee,J as U,a7 as L,af as N,ag as te,Q as oe}from"./index-DQATgoiV.js";import{a as se}from"./hook-CsbMUZaY.js";import{b as ne,g as re,u as B,a as ae,m as ie}from"./mergeOptionsWithPopperConfig-CmF6nV9m.js";import{u as le}from"./useMergedRefs-DN82UVeM.js";const ce=27,ue=()=>{};function fe(e,o,{disabled:t,clickTrigger:a}={}){const s=o||ue;ne(e,s,{disabled:t,clickTrigger:a});const i=G(u=>{u.keyCode===ce&&s(u)});n.useEffect(()=>{if(t||e==null)return;const u=X(re(e));let p=(u.defaultView||window).event;const f=Y(u,"keyup",h=>{if(h===p){p=void 0;return}i(h)});return()=>{f()}},[e,t,i])}const W=n.forwardRef((e,o)=>{const{flip:t,offset:a,placement:s,containerPadding:i,popperConfig:u={},transition:p}=e,[f,h]=B(),[m,d]=B(),g=le(h,o),r=M(e.container),v=M(e.target),[E,l]=n.useState(!e.show),c=ae(v,f,ie({placement:s,enableEvents:!!e.show,containerPadding:i||5,flip:t,offset:a,arrowElement:m,popperConfig:u}));e.show?E&&l(!1):!e.transition&&!E&&l(!0);const P=(...k)=>{l(!0),e.onExited&&e.onExited(...k)},b=e.show||p&&!E;if(fe(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!b)return null;let O=e.children(Object.assign({},c.attributes.popper,{style:c.styles.popper,ref:g}),{popper:c,placement:s,show:!!e.show,arrowProps:Object.assign({},c.attributes.arrow,{style:c.styles.arrow,ref:d})});if(p){const{onExit:k,onExiting:C,onEnter:x,onEntering:_,onEntered:T}=e;O=R.jsx(p,{in:e.show,appear:!0,onExit:k,onExiting:C,onExited:P,onEnter:x,onEntering:_,onEntered:T,children:O})}return r?Z.createPortal(O,r):null});W.displayName="Overlay";const de=H("popover-header"),z=H("popover-body");function A(e,o){let t=e;return e==="left"?t=o?"end":"start":e==="right"&&(t=o?"start":"end"),t}const pe={placement:"right"},I=n.forwardRef(({bsPrefix:e,placement:o,className:t,style:a,children:s,body:i,arrowProps:u,popper:p,show:f,...h},m)=>{const d=$(e,"popover"),g=K(),[r]=(o==null?void 0:o.split("-"))||[],v=A(r,g);return R.jsxs("div",{ref:m,role:"tooltip",style:a,"x-placement":r,className:D(t,d,r&&`bs-popover-${v}`),...h,children:[R.jsx("div",{className:"popover-arrow",...u}),i?R.jsx(z,{children:s}):s]})});I.defaultProps=pe;const he=Object.assign(I,{Header:de,Body:z,POPPER_OFFSET:[0,8]});function me(){const e=n.useRef(null),o=$(void 0,"popover"),t=n.useMemo(()=>({name:"offset",options:{offset:()=>e.current&&ee(e.current,o)?he.POPPER_OFFSET:[0,0]}}),[o]);return[e,[t]]}const ve={transition:L,rootClose:!1,show:!1,placement:"top"};function ge(e,o){const{ref:t}=e,{ref:a}=o;e.ref=t.__wrapped||(t.__wrapped=s=>t(N(s))),o.ref=a.__wrapped||(a.__wrapped=s=>a(N(s)))}const F=n.forwardRef(({children:e,transition:o,popperConfig:t={},...a},s)=>{const i=n.useRef({}),[u,p]=me(),f=U(s,u),h=o===!0?L:o||void 0;return R.jsx(W,{...a,ref:f,popperConfig:{...t,modifiers:p.concat(t.modifiers||[])},transition:h,children:(m,{arrowProps:d,placement:g,popper:r,show:v})=>{var E,l;ge(m,d);const c=Object.assign(i.current,{state:r==null?void 0:r.state,scheduleUpdate:r==null?void 0:r.update,placement:g,outOfBoundaries:(r==null||(E=r.state)==null||(l=E.modifiersData.hide)==null?void 0:l.isReferenceHidden)||!1});return typeof e=="function"?e({...m,placement:g,show:v,...!o&&v&&{className:"show"},popper:c,arrowProps:d}):n.cloneElement(e,{...m,placement:g,arrowProps:d,popper:c,className:D(e.props.className,!o&&v&&"show"),style:{...e.props.style,...m.style}})}})});F.displayName="Overlay";F.defaultProps=ve;function we(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function S(e,o,t){const[a]=o,s=a.currentTarget,i=a.relatedTarget||a.nativeEvent[t];(!i||i!==s)&&!oe(s,i)&&e(...o)}const Re={defaultShow:!1,trigger:["hover","focus"]};function Ee({trigger:e,overlay:o,children:t,popperConfig:a={},show:s,defaultShow:i=!1,onToggle:u,delay:p,placement:f,flip:h=f&&f.indexOf("auto")!==-1,...m}){const d=n.useRef(null),g=U(d,t.ref),r=te(),v=n.useRef(""),[E,l]=se(s,i,u),c=we(p),{onFocus:P,onBlur:b,onClick:O}=typeof t!="function"?n.Children.only(t).props:{},k=w=>{g(N(w))},C=n.useCallback(()=>{if(r.clear(),v.current="show",!c.show){l(!0);return}r.set(()=>{v.current==="show"&&l(!0)},c.show)},[c.show,l,r]),x=n.useCallback(()=>{if(r.clear(),v.current="hide",!c.hide){l(!1);return}r.set(()=>{v.current==="hide"&&l(!1)},c.hide)},[c.hide,l,r]),_=n.useCallback((...w)=>{C(),P==null||P(...w)},[C,P]),T=n.useCallback((...w)=>{x(),b==null||b(...w)},[x,b]),Q=n.useCallback((...w)=>{l(!E),O==null||O(...w)},[O,l,E]),V=n.useCallback((...w)=>{S(C,w,"fromElement")},[C]),q=n.useCallback((...w)=>{S(x,w,"toElement")},[x]),j=e==null?[]:[].concat(e),y={ref:k};return j.indexOf("click")!==-1&&(y.onClick=Q),j.indexOf("focus")!==-1&&(y.onFocus=_,y.onBlur=T),j.indexOf("hover")!==-1&&(y.onMouseOver=V,y.onMouseOut=q),R.jsxs(R.Fragment,{children:[typeof t=="function"?t(y):n.cloneElement(t,y),R.jsx(F,{...m,show:E,onHide:x,flip:h,placement:f,popperConfig:a,target:d.current,children:o})]})}Ee.defaultProps=Re;const Oe={placement:"right"},J=n.forwardRef(({bsPrefix:e,placement:o,className:t,style:a,children:s,arrowProps:i,popper:u,show:p,...f},h)=>{e=$(e,"tooltip");const m=K(),[d]=(o==null?void 0:o.split("-"))||[],g=A(d,m);return R.jsxs("div",{ref:h,style:a,role:"tooltip","x-placement":d,className:D(t,e,`bs-tooltip-${g}`),...f,children:[R.jsx("div",{className:"tooltip-arrow",...i}),R.jsx("div",{className:`${e}-inner`,children:s})]})});J.defaultProps=Oe;J.displayName="Tooltip";export{Ee as O,he as P,J as T};
