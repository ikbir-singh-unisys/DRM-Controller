import{r as c,j as e,M as j,L as n,h as o,f as I,C as x,o as P,R as V,c as v}from"./index-kH_MM8uZ.js";import{P as F}from"./PageTitle-D1X1oCzo.js";import{o as B,c as L,a as z,u as Y,F as $}from"./FormInput-CE15v1BK.js";import{S as H}from"./Scrollbar-C1Wm6pFq.js";import{u as T}from"./avatar-5-rOCCes1N.js";import{C as O}from"./Collapse-BYCaBWmI.js";import{u as y}from"./avatar-2-Dcl2IFJj.js";import{d as q}from"./avatar-1-BMXE0ycC.js";import{u as G,a as W}from"./avatar-6-DZPbOOwP.js";import{a as J}from"./avatar-8-Bl1-rYU-.js";import{a as K}from"./avatar-9-BwCKTx9g.js";import{a as Z}from"./avatar-10-6A8_3rMY.js";import{D as a}from"./Dropdown-DgWscwN8.js";import"./_baseIteratee-diiLj1hK.js";import"./InputGroup-wT9qnrvz.js";import"./InputGroupContext-CQXtZeHT.js";import"./index-BRQ7nW5x.js";import"./hook-BGu0KHPR.js";import"./extends-Ddkkjl9d.js";import"./useForceUpdate-BfUUU7hG.js";import"./mergeOptionsWithPopperConfig-Dcco-Ch-.js";import"./warning-jkIVRgjP.js";import"./SSRProvider-CCZsMxV0.js";import"./NavbarContext-D8qaAC9u.js";const Q=({show:s,handleClose:i})=>{const[r,l]=c.useState(!1),[h,d]=c.useState(!1);return e.jsx(j,{centered:!0,show:s,onHide:i,children:e.jsxs("div",{className:" m-2",children:[e.jsx(j.Header,{closeButton:!0}),e.jsx("div",{className:"text-center mb-3",children:e.jsx("img",{src:T,className:"rounded-circle avatar-lg",height:"48",alt:"Rhonda D"})}),e.jsx("div",{className:"text-center mb-3",children:e.jsx("h5",{className:"mt-0 mb-0 fs-18",children:"Rhonda D"})}),e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"avatar-sm fw-bold d-inline-block me-2","data-bs-toggle":"modal","data-bs-target":"#voicecall","data-bs-dismiss":"modal",children:e.jsx(n,{to:"$",className:"avatar-title rounded-circle border border-secondary text-dark",children:e.jsx("i",{className:"bi bi-telephone"})})}),e.jsx("div",{className:"avatar-sm fw-bold d-inline-block me-2","data-bs-toggle":"modal","data-bs-target":"#videocall","data-bs-dismiss":"modal",children:e.jsx(n,{to:"$",className:"avatar-title rounded-circle border border-secondary text-dark",children:e.jsx("i",{className:"bi bi-camera-video"})})}),e.jsx("div",{className:"avatar-sm fw-bold d-inline-block me-2","data-bs-dismiss":"modal","aria-label":"Close",children:e.jsx(n,{to:"$",className:"avatar-title rounded-circle border border-secondary text-dark",children:e.jsx("i",{className:"bi bi-chat-left-dots"})})})]}),e.jsx(j.Body,{children:e.jsxs("div",{className:"accordion custom-accordionwitharrow",children:[e.jsxs(o,{className:"mb-1 shadow-none border-0",children:[e.jsx(n,{to:"#",onClick:()=>l(!r),className:"text-dark",children:e.jsx(o.Header,{className:"border-0",children:e.jsxs("h5",{className:"m-0 fs-16",children:["About",e.jsx("i",{className:"uil uil-angle-down float-end accordion-arrow"})]})})}),e.jsx(O,{in:r,children:e.jsx("div",{children:e.jsx(o.Body,{className:"pt-0 text-muted",children:e.jsxs(I,{children:[e.jsxs(x,{xs:4,className:"p-2",children:[e.jsx("i",{className:"bi bi-telephone fs-18 me-2"}),"Phone"]}),e.jsx(x,{xs:8,className:"p-2 border-bottom",children:"(415) 281 - 1649"}),e.jsxs(x,{xs:4,className:"p-2",children:[e.jsx("i",{className:"bi bi-envelope fs-18 me-2"}),"Email"]}),e.jsx(x,{xs:8,className:"p-2 border-bottom",children:"shreyu.abc@gmail.com"})]})})})})]}),e.jsxs(o,{className:"mb-1 shadow-none border-0",children:[e.jsx(n,{to:"#",onClick:()=>d(!h),className:"text-dark",children:e.jsx(o.Header,{className:"border-0",children:e.jsxs("h5",{className:"m-0 fs-16",children:["Media, Links and Docs",e.jsx("i",{className:"uil uil-angle-down float-end accordion-arrow"})]})})}),e.jsx(O,{in:h,children:e.jsx("div",{children:e.jsxs(o.Body,{className:"pt-0 text-muted",children:[e.jsx("div",{className:"d-inline-block me-2",children:e.jsx("i",{className:"bi bi-file-earmark-pdf h2"})}),e.jsx("div",{className:"d-inline-block me-2",children:e.jsx("i",{className:"bi bi-file-earmark-word h2"})}),e.jsx("div",{className:"d-inline-block me-2",children:e.jsx("i",{className:"bi bi-images h2"})}),e.jsx("div",{className:"d-inline-block me-2",children:e.jsx("i",{className:"bi bi-file-earmark-ppt h2"})})]})})})]})]})})]})})},X=({show:s,handleClose:i})=>e.jsxs(j,{centered:!0,size:"sm",show:s,onHide:i,contentClassName:"video-call",children:[e.jsx(j.Header,{className:"mb-5 justify-content-end",children:e.jsx("div",{className:"video-call-head",children:e.jsx("img",{src:y,className:"rounded",alt:"Rhonda D"})})}),e.jsx(j.Body,{children:e.jsx("div",{className:"video-call-action text-center pt-4 pb-2",children:e.jsxs("ul",{className:"list-inline",children:[e.jsx("li",{className:"list-inline-item avatar-sm fw-bold me-2",children:e.jsx(n,{to:"#",className:"avatar-title rounded-circle bg-soft-light text-white fs-16",children:e.jsx("i",{className:"bi bi-mic-mute"})})}),e.jsx("li",{className:"list-inline-item avatar fw-bold me-2",children:e.jsx(n,{to:"#",className:"avatar-title rounded-circle bg-danger text-white fs-18",children:e.jsx("i",{className:"bi bi-telephone","data-bs-dismiss":"modal"})})}),e.jsx("li",{className:"list-inline-item avatar-sm fw-bold",children:e.jsx(n,{to:"#",className:"avatar-title rounded-circle bg-soft-light text-white fs-16",children:e.jsx("i",{className:"bi bi-camera-video"})})})]})})})]}),_=({show:s,handleClose:i})=>e.jsxs(j,{centered:!0,size:"sm",show:s,onHide:i,contentClassName:"voice-call",children:[e.jsx(j.Header,{className:"mt-5 justify-content-center",children:e.jsx("div",{className:"voice-call-head",children:e.jsx("img",{src:y,className:"rounded-circle",alt:""})})}),e.jsxs(j.Body,{className:"pt-0 text-center",children:[e.jsx("p",{className:"mb-5",children:"Calling..."}),e.jsx("div",{className:"voice-call-action pt-4 pb-2",children:e.jsxs("ul",{className:"list-inline",children:[e.jsx("li",{className:"list-inline-item avatar-sm fw-bold me-2",children:e.jsx(n,{to:"#",className:"avatar-title rounded-circle bg-soft-secondary text-dark fs-16",children:e.jsx("i",{className:"bi bi-mic-mute"})})}),e.jsx("li",{className:"list-inline-item avatar fw-bold me-2","data-bs-dismiss":"modal",children:e.jsx(n,{to:"#",className:"avatar-title rounded-circle bg-danger text-white fs-18",children:e.jsx("i",{className:"bi bi-telephone"})})}),e.jsx("li",{className:"list-inline-item avatar-sm fw-bold",children:e.jsx(n,{to:"#",className:"avatar-title rounded-circle bg-soft-secondary text-dark fs-16",children:e.jsx("i",{className:"bi bi-volume-up"})})})]})})]})]}),w=[{id:1,name:"Brandon Smith",avatar:y,lastMessage:"How are you today?",totalUnread:3,lastMessageOn:"5:30am",userStatus:"offline"},{id:2,name:"Maria C",avatar:Z,lastMessage:"Hey! a reminder for tomorrow's meeting?",totalUnread:0,lastMessageOn:"Thu",userStatus:"online"},{id:3,name:"Dominic A",avatar:J,lastMessage:"Are we going to have this week's planning meeting?",totalUnread:0,lastMessageOn:"4:30 am",userStatus:"busy"},{id:4,name:"Ronda D",avatar:K,lastMessage:"Please check these design assets..",totalUnread:0,lastMessageOn:"Wed",userStatus:"online"},{id:5,name:"Michael H",avatar:G,lastMessage:"Are you free for 15 mins? I would like to discuss something",totalUnread:25,lastMessageOn:"Tue",userStatus:"offline"},{id:6,name:"Thomas R",avatar:T,lastMessage:"Let's have meeting today between me, you and Tony...",totalUnread:0,lastMessageOn:"Tue",userStatus:"offline"},{id:7,name:"Thomas J",avatar:W,lastMessage:"How are you?",totalUnread:1,lastMessageOn:"Tue",userStatus:"offline"},{id:8,name:"Rikcy J",avatar:q,lastMessage:"Are you interested in learning?",totalUnread:0,lastMessageOn:"Mon",userStatus:"away"}],p={id:9,name:"Shreyu N",avatar:y},R=[],D=[];for(const s of w)R.push({id:1,messages:[{type:"text",value:"Hello!"}],to:p,from:s,sendOn:"8:18 am"},{id:2,messages:[{type:"text",value:"Hi, How are you? What about our next meeting?"}],to:s,from:p,sendOn:"8:20 am"}),D.push({id:1,messages:[{type:"text",value:"Yeah everything is fine"},{type:"text",value:"Let's have it today if you are free"}],to:p,from:s,sendOn:"8:21 am"},{id:2,messages:[{type:"text",value:"Sure thing! let me know if 2pm works for you"}],to:s,from:p,sendOn:"8:25 am"},{id:3,messages:[{type:"text",value:"Sorry, I have another meeting scheduled at 2pm. Can we have it at 3pm instead?"}],to:p,from:s,sendOn:"8:26 am"},{id:4,messages:[{type:"text",value:"2pm it is. sure, we can also discuss about the presentation talk format if you have some extra mins"},{type:"text",value:"Sure, let's discuss about presentation format, it would be great to finalize today."}],to:s,from:p,sendOn:"8:27 am"},{id:5,messages:[{type:"text",value:"Ok. I am attaching the last year format and assets here...."},{type:"file",value:{file:"Shreyu-sketch.zip",size:"2.3MB"}}],to:p,from:s,sendOn:"8:32 am"});const ee=[{id:1,day:"Yesterday",messages:[...R]},{id:2,day:"Today",messages:[...D]}],se=({selectedUser:s})=>{const[i,r]=c.useState(!1),l=()=>r(!1),h=()=>r(!0),[d,u]=c.useState(!1),N=()=>u(!1),S=()=>u(!0),[M,t]=c.useState(!1),f=()=>t(!1),C=()=>t(!0);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex pb-2 border-bottom align-items-center",children:[e.jsx("img",{src:s.avatar,className:"me-2 rounded-circle",height:"48",alt:""}),e.jsxs("div",{children:[e.jsx("h5",{className:"mt-0 mb-0 fs-14",children:s.name}),e.jsx("p",{className:"mb-0",children:"Online"})]}),e.jsx("div",{className:"flex-grow-1",children:e.jsxs("ul",{className:"list-inline float-end mb-0",children:[e.jsx(a,{as:"li",className:"list-inline-item fs-18 me-3",children:e.jsx(a.Toggle,{id:"dropdown-apps",as:"a",className:"cursor-pointer text-dark",children:e.jsx("i",{className:"bi bi-telephone-plus",onClick:()=>C()})})}),e.jsx(a,{as:"li",className:"list-inline-item fs-18 me-3",children:e.jsx(a.Toggle,{id:"dropdown-apps",as:"a",className:"cursor-pointer text-dark",children:e.jsx("i",{className:"bi bi-camera-video",onClick:()=>S()})})}),e.jsxs(a,{as:"li",className:"list-inline-item fs-18",children:[e.jsx(a.Toggle,{id:"dropdown-apps",as:"a",className:"cursor-pointer text-dark",children:e.jsx("i",{className:"bi bi-three-dots-vertical"})}),e.jsxs(a.Menu,{className:"dropdown-menu-end",children:[e.jsxs(a.Item,{href:"#/",onClick:()=>h(),children:[" ",e.jsx("i",{className:"bi bi-person-circle fs-18 me-2"}),"View Profile"]}),e.jsxs(a.Item,{href:"#/",children:[e.jsx("i",{className:"bi bi-music-note-list fs-18 me-2"}),"Media, Links and Docs"]}),e.jsxs(a.Item,{href:"#/",children:[e.jsx("i",{className:"bi bi-search fs-18 me-2"}),"Search"]}),e.jsxs(a.Item,{href:"#/",children:[e.jsx("i",{className:"bi bi-image fs-18 me-2"}),"Wallpaper"]}),e.jsxs(a.Item,{href:"#/",children:[e.jsx("i",{className:"bi bi-arrow-right-circle fs-18 me-2"}),"More"]})]})]})]})})]}),e.jsx(Q,{show:i,handleClose:l}),e.jsx(X,{show:d,handleClose:N}),e.jsx(_,{show:M,handleClose:f})]})},ae=({message:s,toUser:i})=>e.jsx(e.Fragment,{children:(s.messages||[]).map((r,l)=>e.jsx("li",{className:v("clearfix",{odd:s.from.id===i.id,"mb-1":s.messages.length>1&&l!==s.messages.length-1}),children:e.jsxs("div",{className:"conversation-text ms-0",children:[e.jsxs("div",{className:v("d-flex",{"justify-content-end":s.from.id===i.id}),children:[s.from.id===i.id&&e.jsxs(a,{className:"conversation-actions",children:[e.jsx(a.Toggle,{as:"a",className:"cursor-pointer text-dark pe-1",children:e.jsx("i",{className:"bi bi-three-dots-vertical fs-14"})}),e.jsxs(a.Menu,{align:"end",children:[e.jsxs(a.Item,{children:[e.jsx("i",{className:"bi bi-reply fs-18 me-2"}),"Reply"]}),e.jsxs(a.Item,{children:[e.jsx("i",{className:"bi bi-star fs-18 me-2"}),"Reply"]}),e.jsxs(a.Item,{children:[e.jsx("i",{className:"bi bi-trash fs-18 me-2"}),"Delete"]}),e.jsxs(a.Item,{children:[e.jsx("i",{className:"bi bi-files fs-18 me-2"}),"Copy"]})]})]}),r.type==="text"&&e.jsx("div",{className:"ctext-wrap",children:e.jsx("p",{children:r.value})}),r.type==="file"&&e.jsx(o,{className:"mb-1 shadow-none border text-start",children:e.jsx("div",{className:"p-2",children:e.jsxs(I,{className:"align-items-center",children:[e.jsx(x,{className:"col-auto",children:e.jsx("div",{className:"avatar-sm bg-primary text-white",children:e.jsx("span",{className:"avatar-title rounded",children:".ZIP"})})}),e.jsxs(x,{className:"ps-0",children:[e.jsx(n,{to:"#",className:"text-muted fw-bold",children:r.value.file}),e.jsx("p",{className:"mb-0",children:r.value.size})]}),e.jsx(x,{className:"col-auto",children:e.jsx(n,{to:"#",className:"ps-3 fs-24",children:e.jsx("i",{className:"bi bi-arrow-down-square"})})})]})})}),s.from.id!==i.id&&e.jsxs(a,{className:"conversation-actions",children:[e.jsx(a.Toggle,{as:"a",className:"cursor-pointer text-dark ps-1",children:e.jsx("i",{className:"bi bi-three-dots-vertical fs-14"})}),e.jsxs(a.Menu,{align:"start",children:[e.jsxs(a.Item,{children:[e.jsx("i",{className:"bi bi-reply fs-18 me-2"}),"Reply"]}),e.jsxs(a.Item,{children:[e.jsx("i",{className:"bi bi-star fs-18 me-2"}),"Reply"]}),e.jsxs(a.Item,{children:[e.jsx("i",{className:"bi bi-trash fs-18 me-2"}),"Delete"]}),e.jsxs(a.Item,{children:[e.jsx("i",{className:"bi bi-files fs-18 me-2"}),"Copy"]})]})]})]}),l===s.messages.length-1&&e.jsxs("p",{className:"text-muted fs-12 mb-0 mt-1",children:[s.sendOn,s.from.id===i.id&&e.jsx("i",{className:"bi bi-check2-all ms-1 text-success"})]})]})},l))}),te=({selectedUser:s})=>{const[i,r]=c.useState(!1),[l,h]=c.useState([]),[d]=c.useState({id:9,name:"Shreyu N",avatar:y}),u=c.useCallback(()=>{s&&(r(!0),setTimeout(()=>{const g=[...ee].map(b=>({id:b.id,day:b.day,messages:[...b.messages].filter(m=>m.to.id===d.id&&m.from.id===s.id||d.id===m.from.id&&m.to.id===s.id)}));h([...g]),r(!1)},750))},[s,d.id]);c.useEffect(()=>{u()},[u]);const N=B(L().shape({newMessage:z().required("Please enter your messsage")})),S=Y({resolver:N}),{handleSubmit:M,register:t,control:f,formState:{errors:C},reset:A}=S,U=g=>{let b=[...l[l.length-1].messages];b.push({id:l[l.length-1].messages.length+1,from:d,to:s,messages:[{type:"text",value:g.newMessage}],sendOn:new Date().getHours()+":"+new Date().getMinutes()});const k=[...l].map((m,E)=>({id:m.id,day:m.day,messages:E===l.length-1?b:m.messages}));h([...k]),A()};return e.jsx(e.Fragment,{children:e.jsx(o,{children:e.jsxs(o.Body,{children:[i&&e.jsx(P,{}),e.jsx(se,{selectedUser:s}),e.jsxs("div",{className:"mt-1",children:[e.jsx(H,{style:{height:"509px",width:"100%"},children:e.jsx("ul",{className:"conversation-list px-0 h-100",children:(l||[]).map((g,b)=>e.jsxs(V.Fragment,{children:[e.jsxs("li",{className:"position-relative",children:[e.jsx("hr",{}),e.jsx("h4",{children:e.jsx("span",{className:"badge bg-light text-dark position-absolute top-0 start-50 translate-middle",children:g.day})})]}),(g.messages||[]).map((k,m)=>e.jsx(ae,{message:k,toUser:d},m))]},b))})}),e.jsx("div",{className:"mt-2 bg-light p-3 rounded",children:e.jsx("form",{noValidate:!0,name:"chat-form",id:"chat-form",onSubmit:M(U),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col mb-2 mb-sm-0",children:e.jsx($,{type:"text",name:"newMessage",className:"border-0",placeholder:"Enter your text",register:t,errors:C,control:f},"newMessage")}),e.jsx("div",{className:"col-sm-auto",children:e.jsxs("div",{className:"btn-group",children:[e.jsx(n,{to:"#",className:"btn btn-light",children:e.jsx("i",{className:"bi bi-emoji-smile fs-18"})}),e.jsx(n,{to:"#",className:"btn btn-light",children:e.jsx("i",{className:"bi bi-paperclip fs-18"})}),e.jsx(n,{to:"#",className:"btn btn-light",children:e.jsx("i",{className:"bi bi-camera fs-18"})}),e.jsx("button",{type:"submit",className:"btn btn-success chat-send",children:e.jsx("i",{className:"uil uil-message"})})]})})]})})})]})]})})})},ie=({onUserSelect:s})=>{const[i,r]=c.useState([...w]),[l,h]=c.useState(w[1]),[d,u]=c.useState(!1),N=()=>{u(!d)},S=t=>{r(t?[...w].filter(f=>f.name.toLowerCase().indexOf(t.toLowerCase())>=0):[...w])},M=t=>{h(t),s&&s(t)};return e.jsx(e.Fragment,{children:e.jsx(o,{children:e.jsxs(o.Body,{children:[e.jsxs("div",{className:"d-flex pb-2 border-bottom align-items-center",children:[e.jsx("img",{src:y,className:"me-2 rounded-circle",height:"48",alt:""}),e.jsx("div",{children:e.jsx("h5",{className:"my-0 fs-14",children:"Shreyu N"})}),e.jsx("div",{className:"flex-grow-1",children:e.jsx("ul",{className:"list-inline text-end mb-0",children:e.jsxs(a,{show:d,as:"li",onToggle:N,className:"list-inline-item fs-18",children:[e.jsx(a.Toggle,{id:"dropdown-apps",as:"a",onClick:N,className:v("text-dark","cursor-pointer",{show:d}),children:e.jsx("i",{className:"bi bi-three-dots-vertical"})}),e.jsxs(a.Menu,{className:"dropdown-menu-end",children:[e.jsxs(a.Item,{href:"#/",children:[e.jsx("i",{className:"bi bi-people fs-16 me-2"}),"New Group"]}),e.jsxs(a.Item,{href:"#/",children:[e.jsx("i",{className:"bi bi-person-lines-fill fs-16 me-2"}),"Contacts"]}),e.jsxs(a.Item,{href:"#/",children:[e.jsx("i",{className:"bi bi-bookmark fs-16 me-2"}),"Saved Message"]}),e.jsxs(a.Item,{href:"#/",children:[e.jsx("i",{className:"bi bi-person-plus fs-16 me-2"}),"Invite Friends"]}),e.jsxs(a.Item,{href:"#/",children:[e.jsx("i",{className:"bi bi-question-circle fs-16 me-2"}),"Help"]}),e.jsxs(a.Item,{href:"#/",children:[e.jsx("i",{className:"bi bi-gear fs-16 me-2"}),"Setting"]})]})]})})})]}),e.jsx("div",{children:e.jsx("form",{className:"chat-search",children:e.jsx("div",{className:"chat-search-box",children:e.jsxs("div",{className:"input-group",children:[e.jsx("button",{className:"btn input-group-text",type:"submit",children:e.jsx("i",{className:"uil uil-search"})}),e.jsx("input",{type:"search",className:"form-control",placeholder:"Search...",id:"top-search",onKeyUp:t=>S(t.target.value)})]})})})}),e.jsx("div",{className:"pe-2",children:e.jsx(H,{style:{height:"549px",width:"100%"},children:(i||[]).map((t,f)=>e.jsx(n,{to:"#",className:"text-body",onClick:()=>{M(t)},children:e.jsxs("div",{className:v("d-flex","align-items-start","p-2",{"bg-light":t.id===l.id}),children:[e.jsxs("div",{className:"position-relative",children:[e.jsx("span",{className:v("user-status",{"bg-success":t.userStatus==="online","bg-danger":t.userStatus==="busy","bg-warning":t.userStatus==="away"})}),e.jsx("img",{src:t.avatar,className:"me-2 rounded-circle",height:"48",alt:""})]}),e.jsxs("div",{className:"w-100 overflow-hidden",children:[e.jsxs("h5",{className:"mt-0 mb-0 fs-14",children:[e.jsx("span",{className:"float-end text-muted fs-12",children:t.lastMessageOn}),t.name]}),e.jsxs("p",{className:"mt-1 mb-0 text-muted fs-14",children:[t.totalUnread!==0&&e.jsx("span",{className:"float-end badge bg-danger text-white",children:t.totalUnread}),e.jsx("span",{className:v("w-75",{"text-dark":t.totalUnread}),children:t.lastMessage})]})]})]})},f))})})]})})})},He=()=>{const[s,i]=c.useState(w[1]),r=l=>{i(l)};return e.jsxs(e.Fragment,{children:[e.jsx(F,{breadCrumbItems:[{label:"Apps",path:"/apps/chat"},{label:"Chat",path:"/apps/chat",active:!0}],title:"Chat"}),e.jsxs(I,{children:[e.jsx(x,{lg:5,xxl:3,children:e.jsx(ie,{onUserSelect:r})}),e.jsx(x,{lg:7,xxl:9,children:e.jsx(te,{selectedUser:s})})]})]})};export{He as default};
