import{r as d,j as s,L as h,c as u,h as j,f as i,C as a,R as y,B as v}from"./index-kH_MM8uZ.js";import{F as w}from"./index-Dztw2H7g.js";import{P as C}from"./PageTitle-D1X1oCzo.js";import{C as S}from"./Collapse-BYCaBWmI.js";import{O as N,T as b}from"./Tooltip-BbF-U-lY.js";import{h as D,D as g,r as T}from"./react-draft-wysiwyg-Bcws-T5_.js";import{D as t}from"./Dropdown-DgWscwN8.js";import{t as f,u as E,o as F}from"./data-B_SWKSIn.js";import"./hook-BGu0KHPR.js";import"./extends-Ddkkjl9d.js";import"./mergeOptionsWithPopperConfig-Dcco-Ch-.js";import"./warning-jkIVRgjP.js";import"./useMergedRefs-DYglMZFS.js";import"./useForceUpdate-BfUUU7hG.js";import"./SSRProvider-CCZsMxV0.js";import"./NavbarContext-D8qaAC9u.js";import"./InputGroupContext-CQXtZeHT.js";import"./avatar-9-BwCKTx9g.js";import"./avatar-6-DZPbOOwP.js";import"./avatar-4-DQ7kceu6.js";import"./avatar-5-rOCCes1N.js";const I=({task:e,selectTask:r,totalTasks:o})=>{const[n,x]=d.useState(e.stage==="Done"),m=l=>{x(l.target.checked),r(e)};return s.jsx(s.Fragment,{children:s.jsxs(i,{className:u("justify-content-sm-between",{"border-bottom":e.id!==o,"mt-2":e.id!==1,"pt-1":e.id!==1}),children:[s.jsx(a,{lg:6,className:"mb-2 mb-lg-0",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",id:`task-${e.id}`,checked:n,onChange:m}),s.jsx("label",{className:"form-check-label",htmlFor:`task-${e.id}`,onClick:()=>r(e),children:e.title})]})}),s.jsx(a,{lg:6,children:s.jsxs("div",{className:"d-sm-flex justify-content-between",children:[s.jsx("div",{children:s.jsx(N,{placement:"bottom",overlay:s.jsxs(b,{id:e.assigned_to,children:["Assigned to ",e.assigned_to]}),children:s.jsx("img",{src:e.assignee_avatar,alt:"",className:"avatar-xs rounded-circle",id:`task-avatar-${e.id}`})})}),s.jsx("div",{className:"mt-3 mt-sm-0",children:s.jsxs("ul",{className:u("list-inline","text-sm-end",{"mb-0":e.id===o}),children:[s.jsxs("li",{className:"list-inline-item pe-1",children:[s.jsx("i",{className:"uil uil-schedule me-1"})," ",e.due_date]}),s.jsxs("li",{className:"list-inline-item pe-1",children:[s.jsx("i",{className:"uil uil-align-alt me-1"})," ",e.checklists.filter(l=>l.completed).length," /"," ",e.checklists.length]}),s.jsxs("li",{className:"list-inline-item pe-2",children:[s.jsx("i",{className:"uil uil-comment-message me-1"})," ",e.comments.length]}),s.jsx("li",{className:"list-inline-item",children:s.jsx("span",{className:u("badge",{"badge-soft-danger":e.priority==="High","badge-soft-info":e.priority==="Medium","badge-soft-success":e.priority==="Low"},"p-1"),children:e.priority})})]})})]})})]})})},p=({title:e,tasks:r,selectTask:o})=>{const[n,x]=d.useState(!0),m=()=>x(!n);return s.jsxs(s.Fragment,{children:[s.jsx(h,{className:"text-dark",to:"#",onClick:m,children:s.jsxs("h5",{className:"mb-0",children:[s.jsx("i",{className:u("uil",{"uil-angle-down":n,"uil-angle-right":!n})}),e," ",s.jsxs("span",{className:"text-muted fs-14",children:["(",r.length,")"]})]})}),s.jsx(S,{in:n,children:s.jsx(j,{className:"mb-0 border-0",children:s.jsx(j.Body,{children:(r||[]).map((l,c)=>s.jsx(I,{selectTask:o,task:l,totalTasks:r.length},c))})})})]})},_=({selectedTask:e})=>{const[r,o]=d.useState(e.stage==="Done"),[n,x]=d.useState();d.useEffect(()=>{const c=D("<p>This is a task description with markup support</p> <ul> <li>Select a text to reveal the toolbar.</li> <li>Edit rich document on-the-fly, so elastic!</li> </ul> <p>End of air-mode area</p>");if(c){const k=g.ContentState.createFromBlockArray(c.contentBlocks);x(g.EditorState.createWithContent(k))}},[]);const m=l=>o(l.target.checked);return s.jsx(j,{children:s.jsxs(j.Body,{children:[s.jsx(i,{children:s.jsxs(a,{children:[s.jsxs(t,{className:"float-end",align:"end",children:[s.jsx(t.Toggle,{as:"a",className:"cursor-pointer arrow-none text-muted",children:s.jsx("i",{className:"uil uil-ellipsis-h"})}),s.jsxs(t.Menu,{children:[s.jsxs(t.Item,{children:[s.jsx("i",{className:"uil uil-file-upload me-1"}),"Attachment"]}),s.jsxs(t.Item,{children:[s.jsx("i",{className:"uil uil-edit me-1"}),"Edit"]}),s.jsxs(t.Item,{children:[s.jsx("i",{className:"uil uil-file-copy-alt me-1"}),"Mark as Duplicate"]}),s.jsx(t.Divider,{}),s.jsxs(t.Item,{className:"text-danger",children:[s.jsx("i",{className:"uil uil-trash-alt me-1"}),"Delete"]})]})]}),s.jsxs("div",{className:"form-check float-start",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",id:"completedCheck",checked:r,onChange:m}),s.jsx("label",{className:"form-check-label",htmlFor:"completedCheck",children:"Mark as completed"})]})]})}),s.jsx("hr",{className:"my-2"}),s.jsx(i,{children:s.jsxs(a,{children:[s.jsx("h4",{className:"mt-0",children:e.title}),s.jsxs(i,{children:[s.jsxs(a,{xs:6,children:[s.jsx("p",{className:"mt-2 mb-1 text-muted",children:"Assigned To"}),s.jsxs("div",{className:"d-flex",children:[s.jsx("img",{src:e.assignee_avatar,alt:e.assigned_to,className:"rounded-circle me-2",height:"24"}),s.jsx("div",{className:"flex-grow-1",children:s.jsx("h5",{className:"mt-1 fs-14",children:e.assigned_to})})]})]}),s.jsxs(a,{xs:6,children:[s.jsx("p",{className:"mt-2 mb-1 text-muted",children:"Due Date"}),s.jsxs("div",{className:"d-flex",children:[s.jsx("i",{className:"uil uil-schedule text-success me-1"}),s.jsx("div",{className:"flex-grow-1",children:s.jsx("h5",{className:"mt-1 fs-14",children:e.due_date})})]})]})]}),s.jsx(i,{className:"mt-3",children:s.jsx(a,{children:s.jsx(T.Editor,{toolbarHidden:!0,wrapperClassName:"rich-editor-wrapper border border-1 rounded px-2",editorClassName:"rich-editor fs-13",editorStyle:{minHeight:"150px"},stripPastedStyles:!1,editorState:n})})}),s.jsx("h5",{className:"mt-4 mb-2 fs-15",children:"Checklists/Sub-tasks"}),(e.checklists||[]).map((l,c)=>s.jsxs("div",{className:"form-check mt-1",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",id:`checklist-${l.id}`,defaultChecked:l.completed}),s.jsx("label",{className:"form-check-label",htmlFor:`checklist-${l.id}`,children:l.title})]},c)),s.jsx("h5",{className:"mt-4 mb-2 fs-16",children:"Attachments"}),(e.attachments||[]).map((l,c)=>s.jsx(j,{className:"mb-2 shadow-none border",children:s.jsx("div",{className:"p-1 px-2",children:s.jsxs(i,{className:"align-items-center",children:[s.jsx(a,{className:"col-auto",children:s.jsx("img",{src:l.image,className:"avatar-sm rounded",alt:""})}),s.jsxs(a,{className:"ps-0",children:[s.jsx(h,{to:"#",className:"text-muted fw-bold",children:l.filename}),s.jsx("p",{className:"mb-0",children:l.size})]}),s.jsxs(a,{className:"col-auto",children:[s.jsx(N,{placement:"bottom",overlay:s.jsx(b,{id:"download",children:"Download"}),children:s.jsx(h,{to:"#",id:"btn-download",className:"btn btn-link text-muted btn-lg p-0",children:s.jsx("i",{className:"uil uil-cloud-download fs-14"})})}),s.jsx(N,{placement:"bottom",overlay:s.jsx(b,{id:"delete",children:"Delete"}),children:s.jsx(h,{to:"#",id:"btn-download",className:"btn btn-link text-danger btn-lg p-0",children:s.jsx("i",{className:"uil uil-multiply fs-14"})})})]})]})})},c)),s.jsx(i,{className:"mt-3",children:s.jsxs(a,{children:[s.jsx("h5",{className:"mb-2 fs-16",children:"Comments"}),(e.comments||[]).map((l,c)=>s.jsxs(y.Fragment,{children:[s.jsxs("div",{className:"d-flex align-items-start mt-3 p-1",children:[s.jsx("img",{src:l.author_avatar,className:"me-2 rounded-circle",height:"36",alt:l.author}),s.jsxs("div",{className:"flex-grow-1",children:[s.jsxs("h5",{className:"mt-0 mb-0 fs-14",children:[s.jsx("span",{className:"float-end text-muted fs-12",children:l.posted_on}),l.author]}),s.jsx("p",{className:"mt-1 mb-0 text-muted",children:l.text})]})]},c),s.jsx("hr",{})]},c))]})}),s.jsx(i,{className:"mt-1",children:s.jsx(a,{children:s.jsx("div",{className:"border rounded",children:s.jsxs("form",{action:"#",children:[s.jsx("textarea",{rows:3,className:"form-control border-0 resize-none",placeholder:"Your comment..."}),s.jsxs("div",{className:"p-2 bg-light",children:[s.jsx("div",{className:"float-end",children:s.jsxs(v,{variant:"success",type:"submit",className:"btn-sm",children:[s.jsx("i",{className:"uil uil-message me-1"}),"Submit"]})}),s.jsxs("div",{children:[s.jsx(h,{to:"#",className:"btn btn-sm px-1 btn-light",children:s.jsx("i",{className:"uil uil-cloud-upload"})}),s.jsx(h,{to:"#",className:"btn btn-sm px-1 btn-light",children:s.jsx("i",{className:"uil uil-at"})})]})]})]})})})})]})})]})})},ss=()=>{const[e]=d.useState([...f]),[r]=d.useState([...E]),[o]=d.useState([...F]),[n,x]=d.useState(f[0]),m=l=>{x(l)};return s.jsxs(s.Fragment,{children:[s.jsx(C,{breadCrumbItems:[{label:"Tasks",path:"/apps/tasks/list"},{label:"Tasks List",path:"/apps/tasks/list",active:!0}],title:"Tasks List"}),s.jsxs(i,{children:[s.jsx(a,{xl:8,children:s.jsx(i,{children:s.jsx(a,{children:s.jsx(j,{children:s.jsxs(j.Body,{children:[s.jsxs(i,{children:[s.jsx(a,{sm:3,children:s.jsxs(h,{to:"#",className:"btn btn-primary",children:[s.jsx("i",{className:"uil uil-plus me-1"}),"Add New"]})}),s.jsx(a,{sm:9,children:s.jsxs("div",{className:"float-sm-end mt-3 mt-sm-0",children:[s.jsx("div",{className:"task-search d-inline-block mb-3 mb-sm-0 me-sm-1",children:s.jsx("form",{children:s.jsxs("div",{className:"input-group",children:[s.jsx("input",{type:"text",className:"form-control search-input",placeholder:"Search..."}),s.jsx("span",{className:"uil uil-search icon-search"}),s.jsx(v,{variant:"soft-primary",className:"input-group-text",type:"button",children:s.jsx("i",{className:"uil uil-file-search-alt"})})]})})}),s.jsxs(t,{className:"d-inline-block",align:"end",children:[s.jsx(t.Toggle,{variant:"secondary",className:"cursor-pointer",children:s.jsx("i",{className:"uil uil-sort-amount-down"})}),s.jsxs(t.Menu,{children:[s.jsx(t.Item,{children:"Due Date"}),s.jsx(t.Item,{children:"Added Date"}),s.jsx(t.Item,{children:"Assignee"})]})]})]})})]}),s.jsx(i,{className:"mt-3",children:s.jsxs(a,{children:[s.jsx("div",{children:s.jsx(p,{title:"Today",tasks:e,selectTask:m})}),s.jsx("div",{className:"mt-4",children:s.jsx(p,{title:"Upcoming",tasks:r,selectTask:m})}),s.jsx("div",{className:"mt-4 mb-4",children:s.jsx(p,{title:"Other",tasks:o,selectTask:m})})]})}),s.jsx(i,{className:"mb-3 mt-4",children:s.jsx(a,{xs:12,children:s.jsx("div",{className:"text-center",children:s.jsxs(h,{to:"#",className:"btn btn-white mb-3",children:[s.jsx(w,{icon:"loader",className:"icon-dual icon-xs me-2"}),"Load more"]})})})})]})})})})}),s.jsx(a,{xl:4,children:s.jsx(_,{selectedTask:n})})]})]})};export{ss as default};
